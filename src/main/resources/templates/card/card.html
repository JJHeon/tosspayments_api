<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Charge</title>
    <script src="http://js.tosspayments.com/v1/payment"></script>
</head>

<body>

    <section>
        <h1>카드결제 하기</h1>
        <p>총 주문 금액</p>
        <p>5000 원</p>
        <button id="pay-button">5000원 결제하기</button>
    </section>

    <script>
        var clientKey = 'test_ck_D5GePWvyJnrK0W0k6q8gLzN97Eoq';
        var tossPayments = TossPayments(clientKey);
        var button = document.getElementById('pay-button');

        var activeTossPayments = () => {
            tossPayments.requestPayment('CARD', {
                amount: 5000,
                orderId: 1,
                orderName: '상품명',
                customerName: '고객이름',
                customerEmail: '주문자_이메일',
                successUrl: 'http://localhost:8080/success',
                failUrl: 'http://localhost:8080/fail'
            })
                .catch(function (error) {
                    console.log("Fail!");
                    console.log(error.code);
                });


        };

        console.log("Run activeToss Payment");
        button.addEventListener('click', activeTossPayments);

    </script>
</body>

</html>